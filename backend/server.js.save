const app = require('./app');
const connectMongo = require('./config/mongo');
const redisClient = require('./config/redis')

const PORT = process.env.PORT || 3000;

connectMongo().then(() => {
    console.log('MongoDB conectado')

    redisClient.connect().then(() => {
	console.log('Redis conectado')
	/home/fcoladodeluna/.pm2/logs/todo-list-error.log last 15 lines:
0|todo-lis | /home/fcoladodeluna/to-do_List_NodeJS/backend/server.js:8
0|todo-lis |         console.log(Servidor rodando na porta ${PORT});
0|todo-lis |                     ^^^^^^^^
0|todo-lis | 
0|todo-lis | SyntaxError: missing ) after argument list
0|todo-lis |     at internalCompileFunction (node:internal/vm:76:18)
0|todo-lis |     at wrapSafe (node:internal/modules/cjs/loader:1283:20)
0|todo-lis |     at Module._compile (node:internal/modules/cjs/loader:1328:27)
0|todo-lis |     at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
0|todo-lis |     at Module.load (node:internal/modules/cjs/loader:1203:32)
0|todo-lis |     at Module._load (node:internal/modules/cjs/loader:1019:12)
0|todo-lis |     at Object.<anonymous> (/usr/local/lib/node_modules/pm2/lib/ProcessContainerFork.js:33:23)
0|todo-lis |     at Module._compile (node:internal/modules/cjs/loader:1364:14)
0|todo-lis |     at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)
0|todo-lis |     at Module.load (node:internal/modules/cjs/loader:1203:32)
    })
    app.listen(PORT, () => {
        console.log(`Servidor rodando na porta ${PORT}`);
    });
}).catch((err) => {
    console.error('Erro ao conectar ao MongoDB:', err);
    process.exit(1);
})
